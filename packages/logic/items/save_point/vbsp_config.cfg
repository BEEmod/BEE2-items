"Conditions"
	{
	"Condition"
		{
		"Priority" "-300"
		"instance"	"<ITEM_SAVEPOINT>"
		"Condition"
			{
			// If timer, use SaveDangerous (X)
			// Otherwise, blank the parameter.
			"OR"
				{
				"$timer_delay" "0"
				"$timer_delay" "> 100"
				}
			"Result"
				{
				"$cmd" "Save"
				"$timer_delay" ""
				}
			"Else"
				{
				"$cmd" "SaveDangerous"
				}
			}

		"Condition"
			{
			"$disable_autorespawn" "1" // Actually enabled.
			"Result"
				{
				"ChangeIOType"
					{
					"Type" "AND"
					"Enable_Cmd" "@autosave,$cmd,$timer_delay,0,-1"

					"Enable_Cmd" "btn_rl,TurnOn,,0,-1"
					"Enable_Cmd" "btn_delay_rl,Trigger,,0.5,-1"
					"Out_lock" "instance:btn_rl;OnTurnedOn"
					"Out_unlock" "instance:btn_rl;OnTurnedOff"
					}
				}
			"Else"
				{
				"ChangeIOType"
					{
					"Type" "AND"
					"Enable_Cmd" "@autosave,$cmd,$timer_delay,0,1"

					"Enable_Cmd" "btn_rl,TurnOn,,0,-1"
					"Out_lock" "instance:btn_rl;OnTurnedOn"
					}
				}
			}
		}
	// After connections, if we have no inputs, use the trigger.
	"Condition"
		{
		"instance" "<ITEM_SAVEPOINT>"
		"Condition"
			{
			"$connectioncount" "0"
			"Result"
				{
				"Condition"
					{
					"$disable_autorespawn" "1" // Actually enabled.
					"Result"
						{
						"Suffix" "multi"
						}
					}
				}
			"Else"
				{
				// We don't need a trigger, but do need a comp_relay to
				// lock/unlock pedestal buttons.
				"Suffix" "inp"
				}
			}
		}
	}
