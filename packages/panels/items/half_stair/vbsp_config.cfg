"Replacements"
	{
	"%PACKFILE%"    "BEE2_PANEL_HALF_STAIR_CLEAN"
	
	"%UPPER_TEMP%"  "BEE2_PANEL_HALF_STAIR_TOP_CLEAN:stair_upper"
	"%LOWER_TEMP%"  "BEE2_PANEL_HALF_STAIR_TOP_CLEAN:stair_lower"
	"%STATIC_TEMP%" "BEE2_PANEL_HALF_STAIR_STATIC"
	// Only useful for Overgrown...
	"%TILE_CHANCE%" "0"
	"%FORCE_VAR%"   ""
	}

"Conditions"
	{
	"Condition" // Low
		{
		"instance" "<ITEM_BEE2_PANEL_HALF_STAIR:btn_weighted>"
		"Condition"
			{
			"instvar" "$connectioncount > 0"
			"Result"
				{
				"TemplateBrush"
					{
					"ID" "BEE2_PANEL_HALF_STAIR_TOP_CASE:case_lower"
					"colorVar"  "<editor>"
					}
				"ChangeInstance" "<ITEM_BEE2_PANEL_HALF_STAIR:bee2_dynamic>"
				}
			"Else"
				{
				"Condition"
					{
					"XOR"
						{
						"instance" "<ITEM_BEE2_PANEL_HALF_STAIR:cube_white>"
						"instvar" "$start_reversed 1"
						}
					"Result"
						{
						"TemplateBrush"
							{
							"ID"    "%STATIC_TEMP%:white_lower"
							}
						}
					"Else"
						{
						"TemplateBrush"
							{
							"ID"    "%STATIC_TEMP%:black_lower"
							}
						}
					}
				"ChangeInstance" "<ITEM_BEE2_PANEL_HALF_STAIR:bee2_static>"
				}
			}
		}
	"Condition" // Mid
		{
		"instance" "<ITEM_BEE2_PANEL_HALF_STAIR:btn_cube>"
		"Condition"
			{
			"instvar" "$connectioncount > 0"
			"Result"
				{
				"TemplateBrush"
					{
					"ID" "BEE2_PANEL_HALF_STAIR_TOP_CASE:case_mid"
					"colorVar"  "<editor>"
					}
				"OffsetInstance" "0 0 32"
				"ChangeInstance" "<ITEM_BEE2_PANEL_HALF_STAIR:bee2_dynamic>"
				}
			"Else"
				{
				"Condition"
					{
					"XOR"
						{
						"instance" "<ITEM_BEE2_PANEL_HALF_STAIR:cube_white>"
						"instvar" "$start_reversed 1"
						}
					"Result"
						{
						"TemplateBrush"
							{
							"ID"    "%STATIC_TEMP%:white_mid"
							}
						}
					"Else"
						{
						"TemplateBrush"
							{
							"ID"    "%STATIC_TEMP%:black_mid"
							}
						}
					}
				"OffsetInstance" "0 0 32"
				"ChangeInstance" "<ITEM_BEE2_PANEL_HALF_STAIR:bee2_static>"
				}
			}
		}
	"Condition" // High
		{
		"instance" "<ITEM_BEE2_PANEL_HALF_STAIR:btn_ball>"
		"Condition"
			{
			"instvar" "$connectioncount > 0"
			"Result"
				{
				"TemplateBrush"
					{
					"ID" "BEE2_PANEL_HALF_STAIR_TOP_CASE:case_upper"
					"colorVar"  "<editor>"
					}
				"OffsetInstance" "0 0 64"
				"ChangeInstance" "<ITEM_BEE2_PANEL_HALF_STAIR:bee2_dynamic>"
				}
			"Else"
				{
				"Condition"
					{
					"XOR"
						{
						"instance" "<ITEM_BEE2_PANEL_HALF_STAIR:cube_white>"
						"instvar" "$start_reversed 1"
						}
					"Result"
						{
						"TemplateBrush"
							{
							"ID"    "%STATIC_TEMP%:white_upper"
							}
						}
					"Else"
						{
						"TemplateBrush"
							{
							"ID"    "%STATIC_TEMP%:black_upper"
							}
						}
					}
				"OffsetInstance" "0 0 64"
				"ChangeInstance" "<ITEM_BEE2_PANEL_HALF_STAIR:bee2_static>"
				}
			}
		}
	"Condition"
		{
		"instance" "<ITEM_BEE2_PANEL_HALF_STAIR:bee2_dynamic>"
		"Result"
			{
			"Pack" "%PACKFILE%"
			// Visgroup configs are for Overgrown style, they have no affect here.
			"TemplateBrush"
				{
				"ID"          "%LOWER_TEMP%"
				"invertVar"   "$start_reversed"
				"visgroup"    "%TILE_CHANCE%"
				"forceVisVar" "%FORCE_VAR%"
				"keys"
					{
					"classname"     "func_brush"
					"origin"        "-32 0 -65"
					"spawnflags"    "2" // Ignore player +USE
					}
				"localkeys"
					{
					"targetname"    "brush_step_1"
					"parentname"    "mdl,panel_attach_lower"
					}
				}
			"TemplateBrush"
				{
				"ID"          "%UPPER_TEMP%"
				"invertVar"   "$start_reversed"
				"visgroup"    "%TILE_CHANCE%"
				"forceVisVar" "%FORCE_VAR%"
				"keys"
					{
					"classname"     "func_brush"
					"origin"        "32 0 -65"
					"spawnflags"    "2"
					}
				"localkeys"
					{
					"targetname"    "brush_step_2"
					"parentname"    "mdl,panel_attach_upper"
					}
				}
			}
		}
	}
