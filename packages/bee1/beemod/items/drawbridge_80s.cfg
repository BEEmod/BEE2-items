"Conditions"
	{
	"Condition"
		{
		"instance" "<ITEM_DRAW_BRIDGE>"
		
		"Result"
			{
			// Can't use editor white/black information with the angled panel class, so sample the tiles below
			"ReadSurfType"
				{
				"Pos"  "-48 -48 0"
				"Pos2" "-16 48 0"
				"ResultVar" "$portalable"
				}
			"SetTiles" // Underneath the panel, make it black.
				{
				"Tile" "BB"
				"Tile" "BB"
				"Tile" "BB"
				"Tile" "BB"
				}
			}

		// Static
		"Condition"
			{
			"instvar"  "connectioncount 0"
			"Result"
				{
				// Swap the existing instance for static panels
				// TODO: Should probably convert this to a template
				"ChangeInstance" "<ITEM_DRAW_BRIDGE:bee2_pan_$portalable>"
				}
			"Condition"
				{
				"instvar" "start_enabled 1"
				"Result"
					{
					"Suffix" "static_up"
					"AddOverlay"
						{
						"File" "<ITEM_DRAW_BRIDGE:bee2_static_up>"
						}
					}
				"Else"
					{
					"Suffix" "static_down"
					"AddOverlay"
						{
						"File" "<ITEM_DRAW_BRIDGE:bee2_static_down>"
						}
					}
				}
			}
			
		// Dynamic
		"Condition"
			{
			"instvar" "connectioncount > 0"
			"Result"
				{
				// Add overlay for dynamic panels
				"AddOverlay" "<ITEM_DRAW_BRIDGE:bee2_pan_$portalable>"
				"GenRotatingEnt"
					{
					"Classname"  "func_door_rotating"
					"Axis"       "Y"
					"Reversed"   "1"
					
					"Name"       "motor_wheel"
					"Pos"        "-29 39 -38"
					"Flags"      "0"
					"Keys"
						{
						"maxspeed"    "900"
						"distance"    "180"
						"wait"        "-1"
						"forceclosed" "1"
						}
					}
				}
				// 80s style doesn't use the ropes.
			}
		}
	}
