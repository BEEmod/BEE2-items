"Conditions"
	{
	"Condition"
		{
		"instance"	"<ITEM_LAUTARO_PROTRUDING_PEDESTAL>"
		// Indicate that a "PedestalButton" is in the map.
		// That's used for voice-selection, for example Wheatley
		// telling you to press a button.
		"Result"
			{
			"Has"
				{
				"PedestalButton"	"1"
				}
			}
		
		// Determine colour, and save to a variable.
		"Condition"
			{
			"instance" "<ITEM_LAUTARO_PROTRUDING_PEDESTAL:btn_white>"
			"Result"
				{
				"setInstVar" "$color white"
				}
			"Else"
				{
				"setInstVar" "$color black"
				}
			}
		
		"Condition"
			{
			// Left side
			"instance" "<ITEM_LAUTARO_PROTRUDING_PEDESTAL:btn_weighted>"
			"Result"
				{
				// OffsetInst moves the instance by the given amount,
				// adjusted for the rotation of the instance.
				"OffsetInst" "0 -48 0"
				"TemplateBrush"
					{
					// The part after the colon is the visgroup to use.
					"ID"    "LAUTARO_PROTRUDING_PED_BASE:single"
					// Badly named, but if set to 'white' or 'black'
					// forces colours to that type.	
					"invertVar" "$color"
					}
				}
			}
			
		"Condition"
			{
			// Right side
			"instance" "<ITEM_LAUTARO_PROTRUDING_PEDESTAL:btn_ball>"
			"Result"
				{
				"OffsetInst" "0 48 0"
				"TemplateBrush"
					{
					"ID"    "LAUTARO_PROTRUDING_PED_BASE:single"
					// Badly named, but if set to 'white' or 'black'
					// forces colours to that type.	
					"invertVar" "$color"
					}
				}
			}
			
		"Condition"
			{
			// Center - double-wide base.
			"instance" "<ITEM_LAUTARO_PROTRUDING_PEDESTAL:btn_cube>"
			"Result"
				{
				"TemplateBrush"
					{
					"ID"    "LAUTARO_PROTRUDING_PED_BASE:double"
					// Badly named, but if set to 'white' or 'black'
					// forces colours to that type.	
					"invertVar" "$color"
					}
				}
			}
		
		"Condition"
			{
			// Turn around if checked.
			"instvar" "$start_reversed = 1"
			"Result"
				{
				"ChangeInstance" "instances/BEE2/clean/items/lautaro/protrude_ped_rev.vmf"
				}
			"Else"
				{
				"ChangeInstance" "instances/BEE2/clean/items/lautaro/protrude_ped.vmf"
				}
			}
		
		"Condition"
			{
			"OR"
				{
				"instvar" "timer_delay > 30"
				"instvar" "timer_delay = 0"
				}
			"Result"
				{
				"suffix"	"inf"
				}
			}
		}
	}
